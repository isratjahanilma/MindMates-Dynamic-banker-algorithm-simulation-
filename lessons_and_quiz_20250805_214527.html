<!DOCTYPE html>
<html lang='en'><head><meta charset='UTF-8'><title>Deadlock Lessons & Quiz</title>
<style>
            body { font-family: Arial, sans-serif; padding: 20px; background: #fefefe; color: #222; max-width: 900px; margin: auto; }
            h1, h2, h3 { color: #007070; }
            p, ul { line-height: 1.6; }
            pre { background: #f4f4f4; padding: 10px; border: 1px solid #ccc; white-space: pre-wrap; }
            .quiz-level { margin-top: 40px; border: 1px solid #007070; padding: 20px; border-radius: 8px; }
            .question { margin-bottom: 15px; }
            label { display: block; margin: 5px 0; cursor: pointer; }
            button { margin-top: 10px; padding: 8px 14px; background: #007070; color: white; border: none; border-radius: 4px; cursor: pointer; }
            button:hover { background: #005050; }
            .result { margin-top: 15px; font-weight: bold; color: #007070; }
            .hidden { display: none; }
        </style>
</head><body>
<h1>üìö Deadlock and Banker's Algorithm ‚Äì Lessons & Interactive Quiz</h1>
<h2>1. What is Deadlock?</h2>
<p>Deadlock is a state in which every process is waiting for a resource held by another, forming a cycle of waiting that prevents all involved processes from proceeding.The Four Conditions:
<ul><li>1. Mutual Exclusion:
At least one resource must be held in a non-sharable mode, meaning only one process can use it at a time.</li> 
<li>2. Hold and Wait:
A process must be holding at least one resource and waiting to acquire additional resources held by other processes.</li> 
<li>3. No Preemption:
Resources cannot be forcibly taken away from a process holding them; a process can only release a resource voluntarily. </li>
<li>4. Circular Wait:
A circular chain of processes exists, where each process is waiting for a resource held by the next process in the chain.</li> </p>
<h2>2. Banker's Algorithm</h2>
<p>Banker's Algorithm is used to avoid deadlock by simulating resource allocation for safety. It checks whether granting a resource request leads to a safe state.<ul><li>Key Components and Principles:</li>
Resource Allocation: Processes declare their maximum resource needs in advance.
Safety Check: Before granting a resource request, the algorithm simulates the allocation and checks if the resulting system state is safe. A safe state is one where there exists a sequence of processes that can complete their execution, even if all processes request their maximum remaining resources.
Deadlock Avoidance: If granting a request would lead to an unsafe state, the request is denied, and the process must wait. This prevents the system from entering a deadlock.</p>
<h2>3. Deadlock Detection</h2>
<p>Detection involves checking for cycles or unresolvable waits in the system resource graph.</p>
<h2>4. Recovery Techniques</h2>
<ul>
            <li>Terminate all deadlocked processes</li>
            <li>Terminate one at a time until deadlock resolves</li>
            <li>Preempt resources and roll back</li>
        </ul>
<hr><div id='quiz-container'>
<div class='quiz-level hidden' id='level1'><h3>Level 1</h3><form>
<div class='question'>
<p>Q1: What causes a deadlock?</p>
<label><input type='radio' name='q1' value='a'> a) Syntax errors</label>
<label><input type='radio' name='q1' value='b'> b) Resource waiting cycle</label>
<label><input type='radio' name='q1' value='c'> c) Infinite loop</label>
</div>
<div class='question'>
<p>Q2: Which is NOT a deadlock recovery method?</p>
<label><input type='radio' name='q2' value='a'> a) Preemption</label>
<label><input type='radio' name='q2' value='b'> b) Process killing</label>
<label><input type='radio' name='q2' value='c'> c) Rollback</label>
</div>
<div class='question'>
<p>Q3: Which condition is necessary for deadlock?</p>
<label><input type='radio' name='q3' value='a'> a) Mutual exclusion</label>
<label><input type='radio' name='q3' value='b'> b) Starvation</label>
<label><input type='radio' name='q3' value='c'> c) Priority scheduling</label>
</div>
<button type='button' onclick='submitLevel(1)'>Submit Level 1</button>
<p class='result' id='result1'></p></form></div>
<div class='quiz-level hidden' id='level2'><h3>Level 2</h3><form>
<div class='question'>
<p>Q4: What is the main goal of the Banker's Algorithm?</p>
<label><input type='radio' name='q4' value='a'> a) To maximize resource use</label>
<label><input type='radio' name='q4' value='b'> b) To avoid deadlock</label>
<label><input type='radio' name='q4' value='c'> c) To detect deadlocks</label>
</div>
<div class='question'>
<p>Q5: How is the 'Need' matrix calculated?</p>
<label><input type='radio' name='q5' value='a'> a) Need = Allocation - Max</label>
<label><input type='radio' name='q5' value='b'> b) Need = Max - Allocation</label>
<label><input type='radio' name='q5' value='c'> c) Max + Allocation</label>
</div>
<div class='question'>
<p>Q6: What does a 'safe state' mean?</p>
<label><input type='radio' name='q6' value='a'> a) All processes will eventually finish</label>
<label><input type='radio' name='q6' value='b'> b) Deadlock is impossible</label>
<label><input type='radio' name='q6' value='c'> c) All resource requests are granted</label>
</div>
<button type='button' onclick='submitLevel(2)'>Submit Level 2</button>
<p class='result' id='result2'></p></form></div>
<div class='quiz-level hidden' id='level3'><h3>Level 3</h3><form>
<div class='question'>
<p>Q7: Which recovery strategy may cause starvation?</p>
<label><input type='radio' name='q7' value='a'> a) Killing one process at a time</label>
<label><input type='radio' name='q7' value='b'> b) Killing all at once</label>
<label><input type='radio' name='q7' value='c'> c) Preemption with rollback</label>
</div>
<div class='question'>
<p>Q8: What is a common symptom of deadlock?</p>
<label><input type='radio' name='q8' value='a'> a) Increased CPU usage</label>
<label><input type='radio' name='q8' value='b'> b) Processes finish faster</label>
<label><input type='radio' name='q8' value='c'> c) No I/O operations</label>
</div>
<div class='question'>
<p>Q9: Which matrix shows remaining needed resources?</p>
<label><input type='radio' name='q9' value='a'> a) Allocation matrix</label>
<label><input type='radio' name='q9' value='b'> b) Max matrix</label>
<label><input type='radio' name='q9' value='c'> c) Need matrix</label>
</div>
<button type='button' onclick='submitLevel(3)'>Submit Level 3</button>
<p class='result' id='result3'></p></form></div>
<div class='quiz-level hidden' id='level4'><h3>Level 4</h3><form>
<div class='question'>
<p>Q10: Deadlock needs mutual exclusion. (T/F)</p>
<label><input type='radio' name='q10' value='t'> True</label>
<label><input type='radio' name='q10' value='f'> False</label>
</div>
<div class='question'>
<p>Q11: Banker's algorithm works without knowing maximum demands. (T/F)</p>
<label><input type='radio' name='q11' value='t'> True</label>
<label><input type='radio' name='q11' value='f'> False</label>
</div>
<div class='question'>
<p>Q12: Killing all processes is the safest way to recover from deadlock. (T/F)</p>
<label><input type='radio' name='q12' value='t'> True</label>
<label><input type='radio' name='q12' value='f'> False</label>
</div>
<button type='button' onclick='submitLevel(4)'>Submit Level 4</button>
<p class='result' id='result4'></p></form></div>
<div id='final-result' class='result' style='font-size:1.3em; margin-top: 40px;'></div>
<script>
        let scores = [0, 0, 0, 0];
        const correct = {
            q1: 'b', q2: 'a', q3: 'c',
            q4: 'b', q5: 'b', q6: 'b',
            q7: 'c', q8: 'a', q9: 'c',
            q10: 't', q11: 'f', q12: 'f'
        };
        function submitLevel(level) {
            let start = (level - 1) * 3 + 1;
            let score = 0;
            let feedback = '';
            for (let i = start; i < start + 3; i++) {
                let selected = document.querySelector('input[name=q' + i + ']:checked');
                if (!selected) {
                    alert('Please answer question Q' + i);
                    return;
                }
                if (selected.value === correct['q' + i]) {
                    score++;
                    feedback += '‚úî Q' + i + ': Correct<br>';
                } else {
                    feedback += '‚ùå Q' + i + ': Incorrect (Correct: ' + correct['q' + i].toUpperCase() + ')<br>';
                }
            }
            scores[level - 1] = score;
            document.getElementById('result' + level).innerHTML = 'Score: ' + score + ' / 3<br>' + feedback;

            document.getElementById('level' + level).classList.add('hidden');
            if (level < 4) {
                document.getElementById('level' + (level + 1)).classList.remove('hidden');
            } else {
                let total = scores.reduce((a, b) => a + b, 0);
                document.getElementById('final-result').innerHTML = 'üèÅ Total Score: ' + total + ' / 12';
            }
        }

        window.onload = () => {
            document.getElementById('level1').classList.remove('hidden');
        };
        </script>
</body></html>
